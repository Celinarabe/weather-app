<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- Sizing for mobile devices. sets width of page to follow screen width of device and initial zoom level -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<!-- compatibility meta tag for IE and MS Edge browsers-->
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>HTML5 Website with Bootstrap | Responsive Website Design</title>
	<!-- shortcut icon for tab (ico, png, jpg) 80x80 max, 40x40 is more common -->
  <link rel="shortcut icon" href="img/favicon.ico">
	 <!-- Bootstrap CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
   <link rel="stylesheet" href="style.css">
   <!-- Google Font -->
   <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  
  <div id="main"class="container">


  <h3 id="errorMessage"></h3>

  

  <p id="description"></p>
  <h1 id="location"></h1>

  <div class="row align-items-end">
    <div class="col-3">
      <h1 class="display-1 mb-0" id="temp"></h1>
    </div> 

    <div class="col-3">
      <p id="feelsLike"></p>
      <p id="wind"></p>
      <p id="humidity"></p>
    </div>  
    </div>
  </div>
  






















  <!-- Script Source Files -->

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- End Script Source Files -->

<script>

let key = '9592542d6951d5de319ab2c9f2260303';
let currWeather = (getWeatherURL('sacramento'));
let descriptionDOM = document.getElementById('description');
let locationDOM = document.getElementById('location');
let tempDOM = document.getElementById('temp');
let feelsLikeDOM = document.getElementById('feelsLike');
let windDOM = document.getElementById('wind');
let humidityDOM = document.getElementById('humidity');


  async function getWeather(weatherURL) {
    const response = await fetch(weatherURL);
    const JSON = await response.json();
    console.log(JSON)
    descriptionDOM.innerHTML = (JSON.weather[0].description)
    locationDOM.innerHTML = `${JSON.name}, ${JSON.sys.country}`
    tempDOM.innerHTML = `${JSON.main.temp.toFixed(0)}&deg C`;
    feelsLikeDOM.innerHTML=`Feels like: ${JSON.main.feels_like.toFixed(0)}&deg C`;
    windDOM.innerHTML=`Wind: ${JSON.wind.speed} MPH`;
    humidityDOM.innerHTML = `Humidity: ${JSON.main.humidity} %`;

    }



  function getWeatherURL(city) {
    return `http://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${key}`
  }

 

  function displayError(error){
    document.getElementById('errorMessage').innerHTML='error oh no';
  }


  
  getWeather(currWeather)
  .catch(error => {
    displayError(error)
  })
    




</script>
</body>
</html>